{"ast":null,"code":"var _jsxFileName = \"/home/kali/mi-primer-startup/frontend/src/components/CursoDetalle.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport VideoPlayer from './VideoPlayer';\nimport LoadingSpinner from './context/LoadingSpinner';\nimport './CursoDetalle.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CursoDetalle() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    isLoggedIn,\n    loading: authLoading\n  } = useAuth();\n  const [curso, setCurso] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentVideo, setCurrentVideo] = useState(0);\n  const [completedVideos, setCompletedVideos] = useState({});\n  const [overallProgress, setOverallProgress] = useState(0);\n  const cursos = useMemo(() => [{\n    id: 1,\n    titulo: 'Curso de React',\n    descripcion: 'Aprende React desde cero hasta un nivel avanzado con proyectos prácticos.',\n    contenido: 'En este curso aprenderás todos los conceptos fundamentales de React, componentes, estados, props, hooks, y mucho más.',\n    videos: [{\n      id: 1,\n      titulo: 'Introducción a React',\n      url: 'https://www.learningcontainer.com/wp-content/uploads/2020/05/sample-mp4-file.mp4'\n    }\n    // ... otros videos\n    ]\n  }\n  // ... otros cursos\n  ], []);\n  useEffect(() => {\n    if (!authLoading && isLoggedIn) {\n      const cursoEncontrado = cursos.find(c => c.id === parseInt(id));\n      setCurso(cursoEncontrado);\n      setLoading(false);\n    }\n  }, [id, cursos, authLoading, isLoggedIn]);\n  useEffect(() => {\n    if (curso && Object.keys(completedVideos).length > 0) {\n      const completedCount = Object.values(completedVideos).filter(completed => completed).length;\n      const totalVideos = curso.videos.length;\n      const newOverallProgress = Math.round(completedCount / totalVideos * 100);\n      setOverallProgress(newOverallProgress);\n    }\n  }, [completedVideos, curso]);\n  const changeVideo = index => {\n    if (index >= 0 && index < curso.videos.length) {\n      setCurrentVideo(index);\n    }\n  };\n  const markAsCompleted = videoId => {\n    setCompletedVideos(prev => ({\n      ...prev,\n      [videoId]: !prev[videoId]\n    }));\n  };\n  if (authLoading || loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isLoggedIn) {\n    return null; // El ProtectedRoute ya redirige\n  }\n  if (!curso) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: \"Curso no encontrado\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"curso-detalle animate__animated animate__fadeIn\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: curso.titulo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: curso.descripcion\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-progress\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"progress-title\",\n          children: \"Progreso del curso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"progress-percentage\",\n          children: [overallProgress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar-fill\",\n          style: {\n            width: `${overallProgress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VideoPlayer, {\n      videos: curso.videos,\n      currentVideo: currentVideo,\n      changeVideo: changeVideo,\n      completedVideos: completedVideos,\n      markAsCompleted: markAsCompleted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contenido\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Descripci\\xF3n del curso\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: curso.contenido\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(CursoDetalle, \"dn9qElAzp/d/DfhjQwcO3G89nJY=\", false, function () {\n  return [useParams, useAuth];\n});\n_c = CursoDetalle;\nexport default CursoDetalle;\nvar _c;\n$RefreshReg$(_c, \"CursoDetalle\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useParams","useAuth","VideoPlayer","LoadingSpinner","jsxDEV","_jsxDEV","CursoDetalle","_s","id","isLoggedIn","loading","authLoading","curso","setCurso","setLoading","currentVideo","setCurrentVideo","completedVideos","setCompletedVideos","overallProgress","setOverallProgress","cursos","titulo","descripcion","contenido","videos","url","cursoEncontrado","find","c","parseInt","Object","keys","length","completedCount","values","filter","completed","totalVideos","newOverallProgress","Math","round","changeVideo","index","markAsCompleted","videoId","prev","fileName","_jsxFileName","lineNumber","columnNumber","className","children","style","width","_c","$RefreshReg$"],"sources":["/home/kali/mi-primer-startup/frontend/src/components/CursoDetalle.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport VideoPlayer from './VideoPlayer';\nimport LoadingSpinner from './context/LoadingSpinner';\nimport './CursoDetalle.css';\n\nfunction CursoDetalle() {\n  const { id } = useParams();\n  const { isLoggedIn, loading: authLoading } = useAuth();\n  const [curso, setCurso] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentVideo, setCurrentVideo] = useState(0);\n  const [completedVideos, setCompletedVideos] = useState({});\n  const [overallProgress, setOverallProgress] = useState(0);\n\n  const cursos = useMemo(() => [\n    {\n      id: 1,\n      titulo: 'Curso de React',\n      descripcion: 'Aprende React desde cero hasta un nivel avanzado con proyectos prácticos.',\n      contenido: 'En este curso aprenderás todos los conceptos fundamentales de React, componentes, estados, props, hooks, y mucho más.',\n      videos: [\n        {\n          id: 1,\n          titulo: 'Introducción a React',\n          url: 'https://www.learningcontainer.com/wp-content/uploads/2020/05/sample-mp4-file.mp4',\n        },\n        // ... otros videos\n      ]\n    },\n    // ... otros cursos\n  ], []);\n\n  useEffect(() => {\n    if (!authLoading && isLoggedIn) {\n      const cursoEncontrado = cursos.find((c) => c.id === parseInt(id));\n      setCurso(cursoEncontrado);\n      setLoading(false);\n    }\n  }, [id, cursos, authLoading, isLoggedIn]);\n\n  useEffect(() => {\n    if (curso && Object.keys(completedVideos).length > 0) {\n      const completedCount = Object.values(completedVideos).filter(completed => completed).length;\n      const totalVideos = curso.videos.length;\n      const newOverallProgress = Math.round((completedCount / totalVideos) * 100);\n      setOverallProgress(newOverallProgress);\n    }\n  }, [completedVideos, curso]);\n\n  const changeVideo = (index) => {\n    if (index >= 0 && index < curso.videos.length) {\n      setCurrentVideo(index);\n    }\n  };\n\n  const markAsCompleted = (videoId) => {\n    setCompletedVideos(prev => ({\n      ...prev,\n      [videoId]: !prev[videoId]\n    }));\n  };\n\n  if (authLoading || loading) {\n    return <LoadingSpinner />;\n  }\n\n  if (!isLoggedIn) {\n    return null; // El ProtectedRoute ya redirige\n  }\n\n  if (!curso) {\n    return <div className=\"error\">Curso no encontrado</div>;\n  }\n\n  return (\n    <div className=\"curso-detalle animate__animated animate__fadeIn\">\n      <h2>{curso.titulo}</h2>\n      <p>{curso.descripcion}</p>\n\n      <div className=\"course-progress\">\n        <div className=\"progress-header\">\n          <span className=\"progress-title\">Progreso del curso</span>\n          <span className=\"progress-percentage\">{overallProgress}%</span>\n        </div>\n        <div className=\"progress-bar-container\">\n          <div\n            className=\"progress-bar-fill\"\n            style={{ width: `${overallProgress}%` }}\n          ></div>\n        </div>\n      </div>\n\n      <VideoPlayer\n        videos={curso.videos}\n        currentVideo={currentVideo}\n        changeVideo={changeVideo}\n        completedVideos={completedVideos}\n        markAsCompleted={markAsCompleted}\n      />\n\n      <div className=\"contenido\">\n        <h3>Descripción del curso</h3>\n        <p>{curso.contenido}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default CursoDetalle;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAC3D,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,OAAO,QAAQ,wBAAwB;AAChD,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,cAAc,MAAM,0BAA0B;AACrD,OAAO,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5B,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAM;IAAEC;EAAG,CAAC,GAAGR,SAAS,CAAC,CAAC;EAC1B,MAAM;IAAES,UAAU;IAAEC,OAAO,EAAEC;EAAY,CAAC,GAAGV,OAAO,CAAC,CAAC;EACtD,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACa,OAAO,EAAEI,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACkB,YAAY,EAAEC,eAAe,CAAC,GAAGnB,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACoB,eAAe,EAAEC,kBAAkB,CAAC,GAAGrB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1D,MAAM,CAACsB,eAAe,EAAEC,kBAAkB,CAAC,GAAGvB,QAAQ,CAAC,CAAC,CAAC;EAEzD,MAAMwB,MAAM,GAAGtB,OAAO,CAAC,MAAM,CAC3B;IACES,EAAE,EAAE,CAAC;IACLc,MAAM,EAAE,gBAAgB;IACxBC,WAAW,EAAE,2EAA2E;IACxFC,SAAS,EAAE,uHAAuH;IAClIC,MAAM,EAAE,CACN;MACEjB,EAAE,EAAE,CAAC;MACLc,MAAM,EAAE,sBAAsB;MAC9BI,GAAG,EAAE;IACP;IACA;IAAA;EAEJ;EACA;EAAA,CACD,EAAE,EAAE,CAAC;EAEN5B,SAAS,CAAC,MAAM;IACd,IAAI,CAACa,WAAW,IAAIF,UAAU,EAAE;MAC9B,MAAMkB,eAAe,GAAGN,MAAM,CAACO,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACrB,EAAE,KAAKsB,QAAQ,CAACtB,EAAE,CAAC,CAAC;MACjEK,QAAQ,CAACc,eAAe,CAAC;MACzBb,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACN,EAAE,EAAEa,MAAM,EAAEV,WAAW,EAAEF,UAAU,CAAC,CAAC;EAEzCX,SAAS,CAAC,MAAM;IACd,IAAIc,KAAK,IAAImB,MAAM,CAACC,IAAI,CAACf,eAAe,CAAC,CAACgB,MAAM,GAAG,CAAC,EAAE;MACpD,MAAMC,cAAc,GAAGH,MAAM,CAACI,MAAM,CAAClB,eAAe,CAAC,CAACmB,MAAM,CAACC,SAAS,IAAIA,SAAS,CAAC,CAACJ,MAAM;MAC3F,MAAMK,WAAW,GAAG1B,KAAK,CAACa,MAAM,CAACQ,MAAM;MACvC,MAAMM,kBAAkB,GAAGC,IAAI,CAACC,KAAK,CAAEP,cAAc,GAAGI,WAAW,GAAI,GAAG,CAAC;MAC3ElB,kBAAkB,CAACmB,kBAAkB,CAAC;IACxC;EACF,CAAC,EAAE,CAACtB,eAAe,EAAEL,KAAK,CAAC,CAAC;EAE5B,MAAM8B,WAAW,GAAIC,KAAK,IAAK;IAC7B,IAAIA,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAG/B,KAAK,CAACa,MAAM,CAACQ,MAAM,EAAE;MAC7CjB,eAAe,CAAC2B,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAMC,eAAe,GAAIC,OAAO,IAAK;IACnC3B,kBAAkB,CAAC4B,IAAI,KAAK;MAC1B,GAAGA,IAAI;MACP,CAACD,OAAO,GAAG,CAACC,IAAI,CAACD,OAAO;IAC1B,CAAC,CAAC,CAAC;EACL,CAAC;EAED,IAAIlC,WAAW,IAAID,OAAO,EAAE;IAC1B,oBAAOL,OAAA,CAACF,cAAc;MAAA4C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC3B;EAEA,IAAI,CAACzC,UAAU,EAAE;IACf,OAAO,IAAI,CAAC,CAAC;EACf;EAEA,IAAI,CAACG,KAAK,EAAE;IACV,oBAAOP,OAAA;MAAK8C,SAAS,EAAC,OAAO;MAAAC,QAAA,EAAC;IAAmB;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACzD;EAEA,oBACE7C,OAAA;IAAK8C,SAAS,EAAC,iDAAiD;IAAAC,QAAA,gBAC9D/C,OAAA;MAAA+C,QAAA,EAAKxC,KAAK,CAACU;IAAM;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACvB7C,OAAA;MAAA+C,QAAA,EAAIxC,KAAK,CAACW;IAAW;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAE1B7C,OAAA;MAAK8C,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9B/C,OAAA;QAAK8C,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B/C,OAAA;UAAM8C,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAkB;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC1D7C,OAAA;UAAM8C,SAAS,EAAC,qBAAqB;UAAAC,QAAA,GAAEjC,eAAe,EAAC,GAAC;QAAA;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D,CAAC,eACN7C,OAAA;QAAK8C,SAAS,EAAC,wBAAwB;QAAAC,QAAA,eACrC/C,OAAA;UACE8C,SAAS,EAAC,mBAAmB;UAC7BE,KAAK,EAAE;YAAEC,KAAK,EAAE,GAAGnC,eAAe;UAAI;QAAE;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN7C,OAAA,CAACH,WAAW;MACVuB,MAAM,EAAEb,KAAK,CAACa,MAAO;MACrBV,YAAY,EAAEA,YAAa;MAC3B2B,WAAW,EAAEA,WAAY;MACzBzB,eAAe,EAAEA,eAAgB;MACjC2B,eAAe,EAAEA;IAAgB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC,eAEF7C,OAAA;MAAK8C,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxB/C,OAAA;QAAA+C,QAAA,EAAI;MAAqB;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC9B7C,OAAA;QAAA+C,QAAA,EAAIxC,KAAK,CAACY;MAAS;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC3C,EAAA,CArGQD,YAAY;EAAA,QACJN,SAAS,EACqBC,OAAO;AAAA;AAAAsD,EAAA,GAF7CjD,YAAY;AAuGrB,eAAeA,YAAY;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}